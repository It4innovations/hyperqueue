<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation of HyperQueue."><meta name=author content="Ada Böhm, Jakub Beránek"><link href=https://it4innovations.github.io/hyperqueue/stable/jobs/jobs/ rel=canonical><link href=../../deployment/cloud/ rel=prev><link href=../arrays/ rel=next><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.14"><title>Jobs and Tasks - HyperQueue</title><link rel=stylesheet href=../../assets/stylesheets/main.342714a4.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-TM8J8R5GJ9"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-TM8J8R5GJ9",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-TM8J8R5GJ9",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#identification-numbers class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the current stable version. <a href=../../..> <b>Click here to go to the stable version.</b> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title=HyperQueue class="md-header__button md-logo" aria-label=HyperQueue data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> HyperQueue </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Jobs and Tasks </span> </div> </div> </div> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/It4innovations/hyperqueue title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=HyperQueue class="md-nav__button md-logo" aria-label=HyperQueue data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> HyperQueue </label> <div class=md-nav__source> <a href=https://github.com/It4innovations/hyperqueue title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../installation/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../quickstart/ class=md-nav__link> <span class=md-ellipsis> Quickstart </span> </a> </li> <li class=md-nav__item> <a href=../../cheatsheet/ class=md-nav__link> <span class=md-ellipsis> Cheatsheet </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Examples </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Examples </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../examples/ class=md-nav__link> <span class=md-ellipsis> Examples </span> </a> </li> <li class=md-nav__item> <a href=../../examples/data-arrays/ class=md-nav__link> <span class=md-ellipsis> Processing data arrays </span> </a> </li> <li class=md-nav__item> <a href=../../examples/iterative-computation/ class=md-nav__link> <span class=md-ellipsis> Iterative computation </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Deployment </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Deployment </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../deployment/ class=md-nav__link> <span class=md-ellipsis> Architecture </span> </a> </li> <li class=md-nav__item> <a href=../../deployment/server/ class=md-nav__link> <span class=md-ellipsis> Server </span> </a> </li> <li class=md-nav__item> <a href=../../deployment/worker/ class=md-nav__link> <span class=md-ellipsis> Workers </span> </a> </li> <li class=md-nav__item> <a href=../../deployment/allocation/ class=md-nav__link> <span class=md-ellipsis> Automatic Allocation </span> </a> </li> <li class=md-nav__item> <a href=../../deployment/cloud/ class=md-nav__link> <span class=md-ellipsis> Without Shared Filesystem </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6 checked> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Task computation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=true> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Task computation </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Jobs and Tasks </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Jobs and Tasks </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#identification-numbers class=md-nav__link> <span class=md-ellipsis> Identification numbers </span> </a> </li> <li class=md-nav__item> <a href=#submitting-jobs class=md-nav__link> <span class=md-ellipsis> Submitting jobs </span> </a> <nav class=md-nav aria-label="Submitting jobs"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#name class=md-nav__link> <span class=md-ellipsis> Name </span> </a> </li> <li class=md-nav__item> <a href=#working-directory class=md-nav__link> <span class=md-ellipsis> Working directory </span> </a> </li> <li class=md-nav__item> <a href=#output class=md-nav__link> <span class=md-ellipsis> Output </span> </a> </li> <li class=md-nav__item> <a href=#environment-variables class=md-nav__link> <span class=md-ellipsis> Environment variables </span> </a> </li> <li class=md-nav__item> <a href=#time-management class=md-nav__link> <span class=md-ellipsis> Time management </span> </a> </li> <li class=md-nav__item> <a href=#priority class=md-nav__link> <span class=md-ellipsis> Priority </span> </a> </li> <li class=md-nav__item> <a href=#placeholders class=md-nav__link> <span class=md-ellipsis> Placeholders </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#state class=md-nav__link> <span class=md-ellipsis> State </span> </a> <nav class=md-nav aria-label=State> <ul class=md-nav__list> <li class=md-nav__item> <a href=#task-state class=md-nav__link> <span class=md-ellipsis> Task state </span> </a> </li> <li class=md-nav__item> <a href=#job-state class=md-nav__link> <span class=md-ellipsis> Job state </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cancelling-jobs class=md-nav__link> <span class=md-ellipsis> Cancelling jobs </span> </a> </li> <li class=md-nav__item> <a href=#forgetting-jobs class=md-nav__link> <span class=md-ellipsis> Forgetting jobs </span> </a> </li> <li class=md-nav__item> <a href=#waiting-for-jobs class=md-nav__link> <span class=md-ellipsis> Waiting for jobs </span> </a> </li> <li class=md-nav__item> <a href=#attaching-standard-input class=md-nav__link> <span class=md-ellipsis> Attaching standard input </span> </a> </li> <li class=md-nav__item> <a href=#task-directory class=md-nav__link> <span class=md-ellipsis> Task directory </span> </a> </li> <li class=md-nav__item> <a href=#providing-own-error-message class=md-nav__link> <span class=md-ellipsis> Providing own error message </span> </a> </li> <li class=md-nav__item> <a href=#automatic-file-cleanup class=md-nav__link> <span class=md-ellipsis> Automatic file cleanup </span> </a> </li> <li class=md-nav__item> <a href=#crash-limit class=md-nav__link> <span class=md-ellipsis> Crash limit </span> </a> </li> <li class=md-nav__item> <a href=#useful-job-commands class=md-nav__link> <span class=md-ellipsis> Useful job commands </span> </a> <nav class=md-nav aria-label="Useful job commands"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#display-job-table class=md-nav__link> <span class=md-ellipsis> Display job table </span> </a> </li> <li class=md-nav__item> <a href=#display-a-summary-table-of-all-jobs class=md-nav__link> <span class=md-ellipsis> Display a summary table of all jobs </span> </a> </li> <li class=md-nav__item> <a href=#display-information-about-a-specific-job class=md-nav__link> <span class=md-ellipsis> Display information about a specific job </span> </a> </li> <li class=md-nav__item> <a href=#display-information-about-individual-tasks class=md-nav__link> <span class=md-ellipsis> Display information about individual tasks </span> </a> </li> <li class=md-nav__item> <a href=#display-job-stdoutstderr class=md-nav__link> <span class=md-ellipsis> Display job stdout/stderr </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../arrays/ class=md-nav__link> <span class=md-ellipsis> Task Arrays </span> </a> </li> <li class=md-nav__item> <a href=../resources/ class=md-nav__link> <span class=md-ellipsis> Resources </span> </a> </li> <li class=md-nav__item> <a href=../cresources/ class=md-nav__link> <span class=md-ellipsis> CPU Resources </span> </a> </li> <li class=md-nav__item> <a href=../failure/ class=md-nav__link> <span class=md-ellipsis> Handling Failure </span> </a> </li> <li class=md-nav__item> <a href=../streaming/ class=md-nav__link> <span class=md-ellipsis> Output Streaming </span> </a> </li> <li class=md-nav__item> <a href=../directives/ class=md-nav__link> <span class=md-ellipsis> Directives </span> </a> </li> <li class=md-nav__item> <a href=../jobfile/ class=md-nav__link> <span class=md-ellipsis> Job Definition File </span> </a> </li> <li class=md-nav__item> <a href=../openjobs/ class=md-nav__link> <span class=md-ellipsis> Open jobs </span> </a> </li> <li class=md-nav__item> <a href=../multinode/ class=md-nav__link> <span class=md-ellipsis> Multinode Tasks </span> </a> </li> <li class=md-nav__item> <a href=../explain/ class=md-nav__link> <span class=md-ellipsis> Explain command </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> CLI </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> CLI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cli/dashboard/ class=md-nav__link> <span class=md-ellipsis> Dashboard </span> </a> </li> <li class=md-nav__item> <a href=../../cli/shortcuts/ class=md-nav__link> <span class=md-ellipsis> Shortcuts </span> </a> </li> <li class=md-nav__item> <a href=../../cli/output-mode/ class=md-nav__link> <span class=md-ellipsis> Output mode </span> </a> </li> <li class=md-nav__item> <a href=../../cli/documentation/ class=md-nav__link> <span class=md-ellipsis> Documentation </span> </a> </li> <li class=md-nav__item> <a href=../../cli/shell-completion/ class=md-nav__link> <span class=md-ellipsis> Shell completion </span> </a> </li> <li class=md-nav__item> <a href=../../cli-reference/ class=md-nav__link> <span class=md-ellipsis> CLI reference </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> <span class=md-ellipsis> Python API </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Python API </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../python/ class=md-nav__link> <span class=md-ellipsis> Getting started </span> </a> </li> <li class=md-nav__item> <a href=../../python/client/ class=md-nav__link> <span class=md-ellipsis> Client </span> </a> </li> <li class=md-nav__item> <a href=../../python/submit/ class=md-nav__link> <span class=md-ellipsis> Submitting jobs </span> </a> </li> <li class=md-nav__item> <a href=../../python/dependencies/ class=md-nav__link> <span class=md-ellipsis> Dependencies </span> </a> </li> <li class=md-nav__item> <a href=../../python/apidoc/ class=md-nav__link> <span class=md-ellipsis> API reference </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../changelog/ class=md-nav__link> <span class=md-ellipsis> Changelog </span> </a> </li> <li class=md-nav__item> <a href=../../faq/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> <li class=md-nav__item> <a href=../../other-tools/ class=md-nav__link> <span class=md-ellipsis> Comparison With Other Tools </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#identification-numbers class=md-nav__link> <span class=md-ellipsis> Identification numbers </span> </a> </li> <li class=md-nav__item> <a href=#submitting-jobs class=md-nav__link> <span class=md-ellipsis> Submitting jobs </span> </a> <nav class=md-nav aria-label="Submitting jobs"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#name class=md-nav__link> <span class=md-ellipsis> Name </span> </a> </li> <li class=md-nav__item> <a href=#working-directory class=md-nav__link> <span class=md-ellipsis> Working directory </span> </a> </li> <li class=md-nav__item> <a href=#output class=md-nav__link> <span class=md-ellipsis> Output </span> </a> </li> <li class=md-nav__item> <a href=#environment-variables class=md-nav__link> <span class=md-ellipsis> Environment variables </span> </a> </li> <li class=md-nav__item> <a href=#time-management class=md-nav__link> <span class=md-ellipsis> Time management </span> </a> </li> <li class=md-nav__item> <a href=#priority class=md-nav__link> <span class=md-ellipsis> Priority </span> </a> </li> <li class=md-nav__item> <a href=#placeholders class=md-nav__link> <span class=md-ellipsis> Placeholders </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#state class=md-nav__link> <span class=md-ellipsis> State </span> </a> <nav class=md-nav aria-label=State> <ul class=md-nav__list> <li class=md-nav__item> <a href=#task-state class=md-nav__link> <span class=md-ellipsis> Task state </span> </a> </li> <li class=md-nav__item> <a href=#job-state class=md-nav__link> <span class=md-ellipsis> Job state </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cancelling-jobs class=md-nav__link> <span class=md-ellipsis> Cancelling jobs </span> </a> </li> <li class=md-nav__item> <a href=#forgetting-jobs class=md-nav__link> <span class=md-ellipsis> Forgetting jobs </span> </a> </li> <li class=md-nav__item> <a href=#waiting-for-jobs class=md-nav__link> <span class=md-ellipsis> Waiting for jobs </span> </a> </li> <li class=md-nav__item> <a href=#attaching-standard-input class=md-nav__link> <span class=md-ellipsis> Attaching standard input </span> </a> </li> <li class=md-nav__item> <a href=#task-directory class=md-nav__link> <span class=md-ellipsis> Task directory </span> </a> </li> <li class=md-nav__item> <a href=#providing-own-error-message class=md-nav__link> <span class=md-ellipsis> Providing own error message </span> </a> </li> <li class=md-nav__item> <a href=#automatic-file-cleanup class=md-nav__link> <span class=md-ellipsis> Automatic file cleanup </span> </a> </li> <li class=md-nav__item> <a href=#crash-limit class=md-nav__link> <span class=md-ellipsis> Crash limit </span> </a> </li> <li class=md-nav__item> <a href=#useful-job-commands class=md-nav__link> <span class=md-ellipsis> Useful job commands </span> </a> <nav class=md-nav aria-label="Useful job commands"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#display-job-table class=md-nav__link> <span class=md-ellipsis> Display job table </span> </a> </li> <li class=md-nav__item> <a href=#display-a-summary-table-of-all-jobs class=md-nav__link> <span class=md-ellipsis> Display a summary table of all jobs </span> </a> </li> <li class=md-nav__item> <a href=#display-information-about-a-specific-job class=md-nav__link> <span class=md-ellipsis> Display information about a specific job </span> </a> </li> <li class=md-nav__item> <a href=#display-information-about-individual-tasks class=md-nav__link> <span class=md-ellipsis> Display information about individual tasks </span> </a> </li> <li class=md-nav__item> <a href=#display-job-stdoutstderr class=md-nav__link> <span class=md-ellipsis> Display job stdout/stderr </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/It4innovations/hyperqueue/blob/main/docs/jobs/jobs.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <h1>Jobs and Tasks</h1> <p>The main unit of computation within HyperQueue is called a <strong>Task</strong>. It represents a single computation (currently, a single execution of some program) that is scheduled and executed on a worker.</p> <p>To actually compute something, you have to create a <strong>Job</strong>, which is a collection of tasks (a task graph). Jobs are units of computation management - you can submit, query or cancel jobs using the CLI.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>This section focuses on <strong>simple jobs</strong>, where each job contains exactly one task. See <a href=../arrays/ >Task arrays</a> to find out how to create jobs with multiple tasks.</p> </div> <h2 id=identification-numbers>Identification numbers<a class=headerlink href=#identification-numbers title="Permanent link">#</a></h2> <p>Each job is identified by a positive integer that is assigned by the HyperQueue server when the job is submitted. We refer to it as <code>Job id</code>.</p> <p>Each task within a job is identified by an unsigned 32b integer called <code>Task id</code>. Task id is either generated by the server or assigned by the user. Task ids are always relative to a specific job, two tasks inside different jobs can thus have the same task id.</p> <p>In simple jobs, task id is always set to <code>0</code>.</p> <h2 id=submitting-jobs>Submitting jobs<a class=headerlink href=#submitting-jobs title="Permanent link">#</a></h2> <p>To submit a simple job that will execute some executable with the provided arguments, use the <a href=https://it4innovations.github.io/hyperqueue/stable/cli-reference/#hq/job/submit><code>hq submit</code></a> command:</p> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>submit<span class=w> </span>&lt;program&gt;<span class=w> </span>&lt;arg1&gt;<span class=w> </span>&lt;arg2&gt;<span class=w> </span>...
</code></pre></div> <p>When you submit a job, the server will assign it a unique job id and print it. You can use this ID in following commands to refer to the submitted job.</p> <p>After the job is submitted, HyperQueue will distribute it to a connected worker that will then execute the provided command.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>The provided command will be executed on a <a href=../../deployment/worker/ >worker</a> that might be running on a different machine. You should thus make sure that the binary will be available there and that you provide an <strong>absolute path</strong> to it.</p> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>When your command contains its own command line flags, you must put the command and its flags after <code>--</code>:</p> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>submit<span class=w> </span>--<span class=w> </span>/bin/bash<span class=w> </span>-c<span class=w> </span><span class=s1>&#39;echo $PPID&#39;</span>
</code></pre></div> </div> <p>There are many parameters that you can set for the executed program, they are listed below.</p> <h3 id=name>Name<a class=headerlink href=#name title="Permanent link">#</a></h3> <p>Each job has an assigned name. It has only an informative character for the user. By default, the name is derived from the job's program name. You can also set the job name explicitly with the <code>--name</code> option:</p> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>submit<span class=w> </span>--name<span class=o>=</span>&lt;NAME&gt;<span class=w> </span>...
</code></pre></div> <h3 id=working-directory>Working directory<a class=headerlink href=#working-directory title="Permanent link">#</a></h3> <p>By default, the working directory of the job will be set to the directory from which the job was submitted. You can change this using the <code>--cwd</code> option:</p> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>submit<span class=w> </span>--cwd<span class=o>=</span>&lt;path&gt;<span class=w> </span>...
</code></pre></div> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>Make sure that the provided path exists on all worker nodes.</p> </div> <div class="admonition hint"> <p class=admonition-title>Hint</p> <p>You can use <a href=#placeholders>placeholders</a> in the working directory path.</p> </div> <h3 id=output>Output<a class=headerlink href=#output title="Permanent link">#</a></h3> <p>By default, each job will produce two files containing the standard output and standard error output, respectively. The default paths of these files are</p> <ul> <li><code>%{CWD}/job-%{JOB_ID}/%{TASK_ID}.stdout</code> for <code>stdout</code></li> <li><code>%{CWD}/job-%{JOB_ID}/%{TASK_ID}.stderr</code> for <code>stderr</code></li> </ul> <p><code>%{JOB_ID}</code> and <code>%{TASK_ID}</code> are so-called placeholders, you can read about them <a href=#placeholders>below</a>.</p> <p>You can change these paths with the <code>--stdout</code> and <code>--stderr</code> options. You can also avoid creating <code>stdout</code>/<code>stderr</code> files completely by setting the value to <code>none</code>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=1:1><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>Change output paths</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>submit<span class=w> </span>--stdout<span class=o>=</span>out.txt<span class=w> </span>--stderr<span class=o>=</span>err.txt<span class=w> </span>...
</code></pre></div> <div class="tabbed-set tabbed-alternate" data-tabs=2:1><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><div class=tabbed-labels><label for=__tabbed_2_1>Disable <code>stdout</code></label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>submit<span class=w> </span>--stdout<span class=o>=</span>none<span class=w> </span>...
</code></pre></div> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>Make sure that the provided path(s) exist on all worker nodes. Also note that if you provide a relative path, it will be resolved relative to the directory from where you submit the job, not relative to the <a href=#working-directory>working directory</a> of the job. If you want to change that, use the <code>%{CWD}</code> <a href=#placeholders>placeholder</a>.</p> </div> <h3 id=environment-variables>Environment variables<a class=headerlink href=#environment-variables title="Permanent link">#</a></h3> <p>You can set environment variables which will be passed to the provided command when the job is executed using the <code>--env &lt;KEY&gt;=&lt;VAL&gt;</code> option. Multiple environment variables can be passed if you repeat the option.</p> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>submit<span class=w> </span>--env<span class=w> </span><span class=nv>KEY1</span><span class=o>=</span>VAL1<span class=w> </span>--env<span class=w> </span><span class=nv>KEY2</span><span class=o>=</span>VAL2<span class=w> </span>...
</code></pre></div> <p>Each executed task will also automatically receive the following environment variables:</p> <table> <thead> <tr> <th>Variable name</th> <th>Explanation</th> </tr> </thead> <tbody> <tr> <td><code>HQ_JOB_ID</code></td> <td>Job id</td> </tr> <tr> <td><code>HQ_TASK_ID</code></td> <td>Task id</td> </tr> <tr> <td><code>HQ_INSTANCE_ID</code></td> <td><a href=../failure/#task-restart>Instance id</a></td> </tr> <tr> <td><code>HQ_RESOURCE_...</code></td> <td>A set of variables related to allocated <a href=../resources/ >resources</a></td> </tr> </tbody> </table> <h3 id=time-management>Time management<a class=headerlink href=#time-management title="Permanent link">#</a></h3> <p>You can specify two time-related parameters when submitting a job. They will be applied to each task of the submitted job.</p> <ul> <li> <p><strong>Time Limit</strong> is the maximal running time of a task. If it is reached, the task will be terminated, and it will transition into the <code>Failed</code> <a href=#task-state>state</a>. This setting has no impact on scheduling.</p> <p>This can serve as a sanity check to make sure that some task will not run indefinitely. You can set it with the <code>--time-limit</code> option<sup id=fnref2:2><a class=footnote-ref href=#fn:2>1</a></sup>:</p> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>submit<span class=w> </span>--time-limit<span class=o>=</span>&lt;duration&gt;<span class=w> </span>...
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Time limit is counted separately for each task. If you set a time limit of <code>3 minutes</code> and create two tasks, where each will run for two minutes, the time limit will not be hit.</p> </div> </li> <li> <p><strong>Time Request</strong> is the minimal remaining <a href=../../deployment/worker/#time-limit>lifetime</a> that a worker must have in order to start executing the task. Workers that do not have enough remaining lifetime will not be considered for running this task.</p> <p>Time requests are only used during scheduling, where the server decides which worker should execute which task. Once a task is scheduled and starts executing on a worker, the time request value will not have any effect.</p> <p>You can set the time request using the <code>--time-request</code> option<sup id=fnref:2><a class=footnote-ref href=#fn:2>1</a></sup>:</p> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>submit<span class=w> </span>--time-request<span class=o>=</span>&lt;duration&gt;<span class=w> </span>...
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Workers with an unknown remaining lifetime will be able to execute any task, disregarding its time request.</p> </div> </li> </ul> <p>Here is an example situation where time limit and time request can be used:</p> <p>Let's assume that we have a collection of tasks where the vast majority of tasks usually finish within <code>10</code> minutes, but some of them run for (at most) <code>30</code> minutes. We do not know in advance which tasks will be "slow". In this case we may want to set the <em>time limit</em> to <code>35</code> minutes to protect us against an error (deadlock, endless loop, etc.).</p> <p>However, since we know that each task will usually take <em>at least</em> <code>10</code> minutes to execute, we don't want to start executing it on a worker if we know that the worker will definitely terminate in less than <code>10</code> minutes. It would only cause unnecessary lost computational resources. Therefore, we can set the <em>time request</em> to <code>10</code> minutes.</p> <h3 id=priority>Priority<a class=headerlink href=#priority title="Permanent link">#</a></h3> <p>You can modify the order in which tasks are executed using <strong>Priority</strong>. Priority can be any 32b <em>signed</em> integer. A lower number signifies lower priority, e.g. when task <code>A</code> with priority <code>5</code> and task <code>B</code> with priority <code>3</code> are scheduled to the same worker and only one of them may be executed, then <code>A</code> will be executed first.</p> <p>You can set the priority using the <code>--priority</code> option:</p> <div class=highlight><pre><span></span><code><span class=nv>$hq</span><span class=w> </span>submit<span class=w> </span>--priority<span class=o>=</span>&lt;PRIORITY&gt;
</code></pre></div> <p>If no priority is specified, then each task will have priority <code>0</code>.</p> <h3 id=placeholders>Placeholders<a class=headerlink href=#placeholders title="Permanent link">#</a></h3> <p>You can use special variables when setting certain job parameters (<a href=#working-directory>working directory</a>, <a href=#output>output</a> paths, <a href=../streaming/#redirecting-task-output>stream</a> path). These variables, called <strong>Placeholders</strong>, will be replaced by job or task-specific information before the job is executed.</p> <p>Placeholders are enclosed in curly braces (<code>{}</code>) and prefixed with a percent (<code>%</code>) sign.</p> <p>You can use the following placeholders:</p> <table> <thead> <tr> <th>Placeholder</th> <th>Will be replaced by</th> <th>Available for</th> </tr> </thead> <tbody> <tr> <td><code>%{JOB_ID}</code></td> <td>Job ID</td> <td><code>stdout</code>, <code>stderr</code>, <code>cwd</code>, <code>stream-dir</code></td> </tr> <tr> <td><code>%{TASK_ID}</code></td> <td>Task ID</td> <td><code>stdout</code>, <code>stderr</code>, <code>cwd</code></td> </tr> <tr> <td><code>%{INSTANCE_ID}</code></td> <td><a href=../failure/#task-restart>Instance ID</a></td> <td><code>stdout</code>, <code>stderr</code>, <code>cwd</code></td> </tr> <tr> <td><code>%{SUBMIT_DIR}</code></td> <td>Directory from which the job was submitted.</td> <td><code>stdout</code>, <code>stderr</code>, <code>cwd</code>, <code>stream-dir</code></td> </tr> <tr> <td><code>%{CWD}</code></td> <td>Working directory of the task.</td> <td><code>stdout</code>, <code>stderr</code></td> </tr> <tr> <td><code>%{SERVER_UID}</code></td> <td>Unique server ID.</td> <td><code>stdout</code>, <code>stderr</code>, <code>cwd</code>, <code>stream-dir</code></td> </tr> </tbody> </table> <p><code>SERVER_UID</code> is a random string that is unique for each new server execution (each <code>hq server start</code> gets a separate value).</p> <p>As an example, if you wanted to include the <a href=../failure/#task-restart>Instance ID</a> in the <code>stdout</code> path (to distinguish the individual outputs of restarted tasks), you can use placeholders like this:</p> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>submit<span class=w> </span>--stdout<span class=w> </span><span class=s1>&#39;%{CWD}/job-%{JOB_ID}/%{TASK_ID}-%{INSTANCE_ID}.stdout&#39;</span><span class=w> </span>...
</code></pre></div> <h2 id=state>State<a class=headerlink href=#state title="Permanent link">#</a></h2> <p>At any moment in time, each task and job has a specific <em>state</em> that represents what is currently happening to it. You can query the state of a job using the <a href=https://it4innovations.github.io/hyperqueue/stable/cli-reference/#hq/job/info><code>hq job info</code></a> command<sup id=fnref:1><a class=footnote-ref href=#fn:1>2</a></sup>:</p> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>job<span class=w> </span>info<span class=w> </span>&lt;job-id&gt;
</code></pre></div> <h3 id=task-state>Task state<a class=headerlink href=#task-state title="Permanent link">#</a></h3> <p>Each task starts in the <code>Waiting</code> state and can end up in one of the terminal states: <code>Finished</code>, <code>Failed</code> or <code>Canceled</code>.</p> <div class=highlight><pre><span></span><code>Waiting-----------------\
   | ^                  |
   | |                  |
   v |                  |
Running-----------------|
   | |                  |
   | \--------\         |
   |          |         |
   v          v         v
Finished    Failed   Canceled
</code></pre></div> <ul> <li><strong>Waiting</strong> The task was submitted and is now waiting to be executed.</li> <li><strong>Running</strong> The task is running on a worker. It may become <code>Waiting</code> again when the worker where the task is running crashes.</li> <li><strong>Finished</strong> The task has successfully finished.</li> <li><strong>Failed</strong> The task has failed.</li> <li><strong>Canceled</strong> The task has been <a href=#cancelling-jobs>canceled</a>.</li> </ul> <p>If a task is in the <code>Finished</code>, <code>Failed</code> or <code>Canceled</code> state, it is <code>completed</code>.</p> <h3 id=job-state>Job state<a class=headerlink href=#job-state title="Permanent link">#</a></h3> <p>The state of a job is derived from the states of its individual tasks. The state is determined by the first rule that matches from the following list of rules:</p> <ol> <li>If at least one task is <code>Running</code>, then job state is <code>Running</code>.</li> <li>If at least one task has not been <code>completed</code> yet, then job state is <code>Waiting</code>.</li> <li>If at least one task is <code>Failed</code>, then job state is <code>Failed</code>.</li> <li>If at least one task is <code>Canceled</code>, then job state is <code>Canceled</code>.</li> <li>If all tasks are finished and job is open (see <a href=../openjobs/ >Open Jobs</a>), then job state is <code>Opened</code>.</li> <li>Remaining case: all tasks are <code>Finished</code> and job is closed, then job state is <code>Finished</code>.</li> </ol> <h2 id=cancelling-jobs>Cancelling jobs<a class=headerlink href=#cancelling-jobs title="Permanent link">#</a></h2> <p>You can prematurely terminate a submitted job that haven't been completed yet by <em>cancelling</em> it using the <a href=https://it4innovations.github.io/hyperqueue/stable/cli-reference/#hq/job/cancel><code>hq job cancel</code></a> command<sup id=fnref2:1><a class=footnote-ref href=#fn:1>2</a></sup>:</p> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>job<span class=w> </span>cancel<span class=w> </span>&lt;job-selector&gt;
</code></pre></div> <p>Cancelling a job will cancel all of its tasks that are not yet completed.</p> <h2 id=forgetting-jobs>Forgetting jobs<a class=headerlink href=#forgetting-jobs title="Permanent link">#</a></h2> <p>If you want to completely forget a job, and thus free up its associated memory, you can do that using the <a href=https://it4innovations.github.io/hyperqueue/stable/cli-reference/#hq/job/forget><code>hq job forget</code></a> command<sup id=fnref3:1><a class=footnote-ref href=#fn:1>2</a></sup>:</p> <div class=highlight><pre><span></span><code><span class=gp>$ </span>hq<span class=w> </span>job<span class=w> </span>forget<span class=w> </span>&lt;job-selector&gt;
</code></pre></div> <p>By default, all completed jobs (finished/failed/canceled) will be forgotten. You can use the <code>--status</code> parameter to only forget jobs in certain statuses:</p> <div class=highlight><pre><span></span><code><span class=gp>$ </span>hq<span class=w> </span>job<span class=w> </span>forget<span class=w> </span>all<span class=w> </span>--status<span class=w> </span>finished,canceled
</code></pre></div> <p>However, only jobs that are completed, i.e. that have been finished successfully, failed or have been canceled, can be forgotten. If you want to forget a waiting or a running job, <a href=#cancelling-jobs>cancel</a> it first.</p> <p>Note that if you are using a journal, forgetting only free the memory of the server but the tasks remains in journal, run <a href=https://it4innovations.github.io/hyperqueue/stable/cli-reference/#hq/journal/prune><code>hq journal prune</code></a> to remove completed jobs and workers from journal file.</p> <h2 id=waiting-for-jobs>Waiting for jobs<a class=headerlink href=#waiting-for-jobs title="Permanent link">#</a></h2> <p>There are three ways of waiting until a job completes:</p> <ul> <li> <p><strong>Submit and wait</strong> You can use the <code>--wait</code> flag when submitting a job. This will cause the submission command to wait until the job becomes complete:</p> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>submit<span class=w> </span>--wait<span class=w> </span>...
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>This method can be used for benchmarking the job duration.</p> </div> </li> <li> <p><strong>Wait command</strong> There is a separate <a href=https://it4innovations.github.io/hyperqueue/stable/cli-reference/#hq/job/wait><code>hq job wait</code></a> command that can be used to wait until an existing job completes<sup id=fnref5:1><a class=footnote-ref href=#fn:1>2</a></sup>:</p> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>job<span class=w> </span><span class=nb>wait</span><span class=w> </span>&lt;job-selector&gt;
</code></pre></div> </li> <li> <p><strong>Interactive wait</strong> If you want to interactively observe the status of a job (which is useful especially if it has <a href=../arrays/ >multiple tasks</a>), you can use the <a href=https://it4innovations.github.io/hyperqueue/stable/cli-reference/#hq/job/progress><code>hq job progress</code></a> command:</p> <div class="tabbed-set tabbed-alternate" data-tabs=3:2><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><input id=__tabbed_3_2 name=__tabbed_3 type=radio><div class=tabbed-labels><label for=__tabbed_3_1>Submit and observe</label><label for=__tabbed_3_2>Observe an existing job<sup id=fnref4:1><a class=footnote-ref href=#fn:1>2</a></sup></label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>submit<span class=w> </span>--progress<span class=w> </span>...
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>job<span class=w> </span>progress<span class=w> </span>&lt;selector&gt;
</code></pre></div> </div> </div> </div> </li> </ul> <h2 id=attaching-standard-input>Attaching standard input<a class=headerlink href=#attaching-standard-input title="Permanent link">#</a></h2> <p>When <code>--stdin</code> flag is used, HQ captures standard input and attaches it to each task of a job. When a task is started then the attached data is written into the standard input of the task.</p> <p>This can be used to submitting scripts without creating file. The following command will capture stdin and executes it in Bash</p> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>submit<span class=w> </span>--stdin<span class=w> </span>bash
</code></pre></div> <p>If you want to parse #HQ directives from standard input, you can use <code>--directives=stdin</code>.</p> <h2 id=task-directory>Task directory<a class=headerlink href=#task-directory title="Permanent link">#</a></h2> <p>When a job is submitted with <code>--task-dir</code> then a temporary directory is created for each task and passed via environment variable <code>HQ_TASK_DIR</code>. This directory is automatically deleted when the task is completed (for any reason).</p> <h2 id=providing-own-error-message>Providing own error message<a class=headerlink href=#providing-own-error-message title="Permanent link">#</a></h2> <p>A task may pass its own error message into the HyperQueue. HyperQueue provides a filename via environment variable <code>HQ_ERROR_FILENAME</code>, if a task creates this file and terminates with a non-zero return code, then the content of this file is taken as an error message.</p> <p><code>HQ_ERROR_FILENAME</code> is provided only if task directory is set on. The filename is always placed inside the task directory.</p> <p>If the message is longer than 2KiB, then it is truncated to 2KiB.</p> <p>If task terminates with zero return code, then the error file is ignored.</p> <h2 id=automatic-file-cleanup>Automatic file cleanup<a class=headerlink href=#automatic-file-cleanup title="Permanent link">#</a></h2> <p>If you create a lot of tasks and do not use <a href=../streaming/ >output streaming</a>, a lot of <code>stdout</code>/<code>stderr</code> files can be created on the disk. In certain cases, you might not be interested in the contents of these files, especially if the task has finished successfully, and you instead want to remove them as soon as they are not needed.</p> <p>For that, you can use a file cleanup mode when specifying <code>stdout</code> and/or <code>stderr</code> to choose what should happen with the file when its task finishes. The mode is specified as a name following a colon (<code>:</code>) after the file path. Currently, one cleanup mode is implemented:</p> <ul> <li>Remove the file if the task has <a href=#task-state>finished</a> successfully:</li> </ul> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>submit<span class=w> </span>--stdout<span class=o>=</span><span class=s2>&quot;out.txt:rm-if-finished&quot;</span><span class=w> </span>/my-program
</code></pre></div> <p>The file will not be deleted if the task fails or is cancelled.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>If you want to use the default <code>stdout</code>/<code>stderr</code> file path (and you don't want to look it up), you can also specify just the cleanup mode without the file path: <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>submit<span class=w> </span>--stdout<span class=o>=</span><span class=s2>&quot;:rm-if-finished&quot;</span><span class=w> </span>/my-program
</code></pre></div></p> </div> <h2 id=crash-limit>Crash limit<a class=headerlink href=#crash-limit title="Permanent link">#</a></h2> <p>When a worker is lost, then all running tasks on the worker are suspicious that they may cause the crash of the worker. HyperQueue server remembers how many times were a task running while a worker is lost (crash counter). If the count reaches the limit, then the task is set to the failed state. By default, this limit is <code>5</code> but it can be changed as follows:</p> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>submit<span class=w> </span>--crash-limit<span class=o>=</span>&lt;NEWLIMIT&gt;<span class=w> </span>...
</code></pre></div> <p>The crash counter of a task is not increased when worker is stopped for known reason (via command <code>hq server stop</code> or time limit is reached), because it was not the cause of the termination.</p> <p>In addition to a numerical value, the option <code>--crash-limit</code> may have two special values:</p> <ul> <li><code>never-restart</code> -- Task is never restarted. It is similar to <code>--crash-counter=1</code>, but the task is never restarted even in the case when the task was running on a worker that was stopped by a way that does not increase crash counter.</li> <li><code>unlimited</code> -- Task will always be restarted.</li> </ul> <h2 id=useful-job-commands>Useful job commands<a class=headerlink href=#useful-job-commands title="Permanent link">#</a></h2> <p>Below you can find a list of useful job commands. The complete <code>hq job</code> CLI reference can be found <a href=https://it4innovations.github.io/hyperqueue/stable/cli-reference/#hq/job>here</a>.</p> <h3 id=display-job-table>Display job table<a class=headerlink href=#display-job-table title="Permanent link">#</a></h3> <p>You can display basic job information using <a href=https://it4innovations.github.io/hyperqueue/stable/cli-reference/#hq/job/list><code>hq job list</code></a>.</p> <div class="tabbed-set tabbed-alternate" data-tabs=4:3><input checked=checked id=__tabbed_4_1 name=__tabbed_4 type=radio><input id=__tabbed_4_2 name=__tabbed_4 type=radio><input id=__tabbed_4_3 name=__tabbed_4 type=radio><div class=tabbed-labels><label for=__tabbed_4_1>List queued and running jobs</label><label for=__tabbed_4_2>List all jobs</label><label for=__tabbed_4_3>List jobs by status</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>job<span class=w> </span>list
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>job<span class=w> </span>list<span class=w> </span>--all
</code></pre></div> </div> <div class=tabbed-block> <p>You can display only jobs having the selected <a href=#job-state>states</a> by using the <code>--filter</code> flag:</p> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>job<span class=w> </span>list<span class=w> </span>--filter<span class=w> </span>running,waiting
</code></pre></div> <p>Valid filter values are:</p> <ul> <li><code>waiting</code></li> <li><code>running</code></li> <li><code>finished</code></li> <li><code>failed</code></li> <li><code>canceled</code></li> </ul> </div> </div> </div> <h3 id=display-a-summary-table-of-all-jobs>Display a summary table of all jobs<a class=headerlink href=#display-a-summary-table-of-all-jobs title="Permanent link">#</a></h3> <p>The <a href=https://it4innovations.github.io/hyperqueue/stable/cli-reference/#hq/job/summary><code>hq job summary</code></a> command shows aggregated counts of jobs with a given status:</p> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>job<span class=w> </span>summary
</code></pre></div> <h3 id=display-information-about-a-specific-job>Display information about a specific job<a class=headerlink href=#display-information-about-a-specific-job title="Permanent link">#</a></h3> <p>You can use the <a href=https://it4innovations.github.io/hyperqueue/stable/cli-reference/#hq/job/info><code>hq job info</code></a> command to show detailed information about specific job(s).</p> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>job<span class=w> </span>info<span class=w> </span>&lt;job-selector&gt;
</code></pre></div> <h3 id=display-information-about-individual-tasks>Display information about individual tasks<a class=headerlink href=#display-information-about-individual-tasks title="Permanent link">#</a></h3> <p>You can use the <a href=https://it4innovations.github.io/hyperqueue/stable/cli-reference/#hq/task/list><code>hq task list</code></a> command to display information about individual tasks, even across multiple jobs.</p> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>task<span class=w> </span>list<span class=w> </span>&lt;job-selector&gt;<span class=w> </span><span class=o>[</span>--task-status<span class=w> </span>&lt;status&gt;<span class=o>]</span><span class=w> </span><span class=o>[</span>--tasks<span class=w> </span>&lt;task-selector&gt;<span class=o>]</span>
</code></pre></div> <h3 id=display-job-stdoutstderr>Display job <code>stdout</code>/<code>stderr</code><a class=headerlink href=#display-job-stdoutstderr title="Permanent link">#</a></h3> <p>You can use the <a href=https://it4innovations.github.io/hyperqueue/stable/cli-reference/#hq/job/cat><code>hq job cat</code></a> command to print the <code>stdout</code> or <code>stderr</code> of specific job(s) and task(s).</p> <div class=highlight><pre><span></span><code>$<span class=w> </span>hq<span class=w> </span>job<span class=w> </span>cat<span class=w> </span>&lt;job-id&gt;<span class=w> </span><span class=o>[</span>--tasks<span class=w> </span>&lt;task-selector&gt;<span class=o>]</span><span class=w> </span>&lt;stdout/stderr&gt;
</code></pre></div> <div class=footnote> <hr> <ol> <li id=fn:2> <p>You can use various <a href=../../cli/shortcuts/#duration>shortcuts</a> for the duration value.&#160;<a class=footnote-backref href=#fnref:2 title="Jump back to footnote 1 in the text">&#8617;</a><a class=footnote-backref href=#fnref2:2 title="Jump back to footnote 1 in the text">&#8617;</a></p> </li> <li id=fn:1> <p>You can use various <a href=../../cli/shortcuts/#id-selector>shortcuts</a> to select multiple jobs at once.&#160;<a class=footnote-backref href=#fnref:1 title="Jump back to footnote 2 in the text">&#8617;</a><a class=footnote-backref href=#fnref2:1 title="Jump back to footnote 2 in the text">&#8617;</a><a class=footnote-backref href=#fnref3:1 title="Jump back to footnote 2 in the text">&#8617;</a><a class=footnote-backref href=#fnref4:1 title="Jump back to footnote 2 in the text">&#8617;</a><a class=footnote-backref href=#fnref5:1 title="Jump back to footnote 2 in the text">&#8617;</a></p> </li> </ol> </div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="July 3, 2025 14:51:21 UTC">July 3, 2025</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="November 2, 2021 15:46:57 UTC">November 2, 2021</span> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../../deployment/cloud/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Without Shared Filesystem"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Without Shared Filesystem </div> </div> </a> <a href=../arrays/ class="md-footer__link md-footer__link--next" aria-label="Next: Task Arrays"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Task Arrays </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["header.autohide", "navigation.instant", "navigation.top", "navigation.footer", "content.action.edit", "content.code.copy"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "stable", "provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.13a4f30d.min.js></script> </body> </html>