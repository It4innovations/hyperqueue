<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation of HyperQueue."><meta name=author content="Stanislav Böhm, Jakub Beránek"><link href=https://it4innovations.github.io/hyperqueue/stable/jobs/jobs/ rel=canonical><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.2.3, mkdocs-material-7.3.2"><title>Jobs and Tasks - HyperQueue</title><link rel=stylesheet href=../../assets/stylesheets/main.24c991ad.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.3f5d1f46.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-TM8J8R5GJ9"),document.addEventListener("DOMContentLoaded",function(){"undefined"!=typeof location$&&location$.subscribe(function(t){gtag("config","G-TM8J8R5GJ9",{page_path:t.pathname})})})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-TM8J8R5GJ9"></script></head> <body dir=ltr data-md-color-scheme data-md-color-primary=none data-md-color-accent=none> <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#identification-numbers class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title=HyperQueue class="md-header__button md-logo" aria-label=HyperQueue data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> HyperQueue </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Jobs and Tasks </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/It4innovations/hyperqueue/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=HyperQueue class="md-nav__button md-logo" aria-label=HyperQueue data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> HyperQueue </label> <div class=md-nav__source> <a href=https://github.com/It4innovations/hyperqueue/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../installation/ class=md-nav__link> Installation </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Getting Started <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Getting Started" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../quickstart/ class=md-nav__link> Quickstart </a> </li> <li class=md-nav__item> <a href=../../cheatsheet/ class=md-nav__link> Cheatsheet </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4> Deployment <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Deployment data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Deployment </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../deployment/ class=md-nav__link> Architecture </a> </li> <li class=md-nav__item> <a href=../../deployment/server/ class=md-nav__link> Server </a> </li> <li class=md-nav__item> <a href=../../deployment/worker/ class=md-nav__link> Workers </a> </li> <li class=md-nav__item> <a href=../../deployment/allocation/ class=md-nav__link> Automatic Allocation </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5> Task computation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Task computation" data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Task computation </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Jobs and Tasks <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Jobs and Tasks </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#identification-numbers class=md-nav__link> Identification numbers </a> </li> <li class=md-nav__item> <a href=#submitting-jobs class=md-nav__link> Submitting jobs </a> <nav class=md-nav aria-label="Submitting jobs"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#name class=md-nav__link> Name </a> </li> <li class=md-nav__item> <a href=#working-directory class=md-nav__link> Working directory </a> </li> <li class=md-nav__item> <a href=#output class=md-nav__link> Output </a> </li> <li class=md-nav__item> <a href=#environment-variables class=md-nav__link> Environment variables </a> </li> <li class=md-nav__item> <a href=#time-management class=md-nav__link> Time management </a> </li> <li class=md-nav__item> <a href=#priority class=md-nav__link> Priority </a> </li> <li class=md-nav__item> <a href=#placeholders class=md-nav__link> Placeholders </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#state class=md-nav__link> State </a> <nav class=md-nav aria-label=State> <ul class=md-nav__list> <li class=md-nav__item> <a href=#task-state class=md-nav__link> Task state </a> </li> <li class=md-nav__item> <a href=#job-state class=md-nav__link> Job state </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cancelling-jobs class=md-nav__link> Cancelling jobs </a> </li> <li class=md-nav__item> <a href=#waiting-for-jobs class=md-nav__link> Waiting for jobs </a> </li> <li class=md-nav__item> <a href=#attaching-stdio class=md-nav__link> Attaching stdio </a> </li> <li class=md-nav__item> <a href=#useful-job-commands class=md-nav__link> Useful job commands </a> <nav class=md-nav aria-label="Useful job commands"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#display-job-table class=md-nav__link> Display job table </a> </li> <li class=md-nav__item> <a href=#display-information-about-a-specific-job class=md-nav__link> Display information about a specific job </a> </li> <li class=md-nav__item> <a href=#display-information-about-individual-tasks-of-a-specific-job class=md-nav__link> Display information about individual tasks of a specific job </a> </li> <li class=md-nav__item> <a href=#display-job-stdoutstderr class=md-nav__link> Display job stdout/stderr </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../arrays/ class=md-nav__link> Task Arrays </a> </li> <li class=md-nav__item> <a href=../cresources/ class=md-nav__link> CPU Resources </a> </li> <li class=md-nav__item> <a href=../gresources/ class=md-nav__link> Generic Resources </a> </li> <li class=md-nav__item> <a href=../failure/ class=md-nav__link> Handling Failure </a> </li> <li class=md-nav__item> <a href=../streaming/ class=md-nav__link> Output Streaming </a> </li> <li class=md-nav__item> <a href=../directives/ class=md-nav__link> Directives </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> CLI <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=CLI data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> CLI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cli/shortcuts/ class=md-nav__link> Shortcuts </a> </li> <li class=md-nav__item> <a href=../../cli/output-mode/ class=md-nav__link> Output mode </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../events/ class=md-nav__link> Events </a> </li> <li class=md-nav__item> <a href=../../faq/ class=md-nav__link> FAQ </a> </li> <li class=md-nav__item> <a href=../../other-tools/ class=md-nav__link> Comparison With Other Tools </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#identification-numbers class=md-nav__link> Identification numbers </a> </li> <li class=md-nav__item> <a href=#submitting-jobs class=md-nav__link> Submitting jobs </a> <nav class=md-nav aria-label="Submitting jobs"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#name class=md-nav__link> Name </a> </li> <li class=md-nav__item> <a href=#working-directory class=md-nav__link> Working directory </a> </li> <li class=md-nav__item> <a href=#output class=md-nav__link> Output </a> </li> <li class=md-nav__item> <a href=#environment-variables class=md-nav__link> Environment variables </a> </li> <li class=md-nav__item> <a href=#time-management class=md-nav__link> Time management </a> </li> <li class=md-nav__item> <a href=#priority class=md-nav__link> Priority </a> </li> <li class=md-nav__item> <a href=#placeholders class=md-nav__link> Placeholders </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#state class=md-nav__link> State </a> <nav class=md-nav aria-label=State> <ul class=md-nav__list> <li class=md-nav__item> <a href=#task-state class=md-nav__link> Task state </a> </li> <li class=md-nav__item> <a href=#job-state class=md-nav__link> Job state </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cancelling-jobs class=md-nav__link> Cancelling jobs </a> </li> <li class=md-nav__item> <a href=#waiting-for-jobs class=md-nav__link> Waiting for jobs </a> </li> <li class=md-nav__item> <a href=#attaching-stdio class=md-nav__link> Attaching stdio </a> </li> <li class=md-nav__item> <a href=#useful-job-commands class=md-nav__link> Useful job commands </a> <nav class=md-nav aria-label="Useful job commands"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#display-job-table class=md-nav__link> Display job table </a> </li> <li class=md-nav__item> <a href=#display-information-about-a-specific-job class=md-nav__link> Display information about a specific job </a> </li> <li class=md-nav__item> <a href=#display-information-about-individual-tasks-of-a-specific-job class=md-nav__link> Display information about individual tasks of a specific job </a> </li> <li class=md-nav__item> <a href=#display-job-stdoutstderr class=md-nav__link> Display job stdout/stderr </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/It4innovations/hyperqueue/blob/main/docs/jobs/jobs.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1>Jobs and Tasks</h1> <p>To compute something using HyperQueue, you have to create a <strong>Job</strong>. It is a unit of computation management – you can submit, query or cancel jobs. Each job consists of one or more <strong>Tasks</strong>. Task represents a single computation (currently, a single execution of some program) and is an indivisible unit of scheduling and computation.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>This section focuses on <strong>simple jobs</strong>, where each job contains exactly one task. See <a href=../arrays/ >Task arrays</a> to find out how to create jobs with multiple tasks.</p> </div> <h2 id=identification-numbers>Identification numbers<a class=headerlink href=#identification-numbers title="Permanent link">#</a></h2> <p>Each job is identified by a positive integer that is assigned by the HyperQueue server when the job is submitted. We refer to it as <code>Job id</code>.</p> <p>Each task within a job is identified by an unsigned 32b integer called <code>Task id</code>. Task id is either generated by the server or assigned by the user. Task ids are always relative to a specific job, two tasks inside different jobs can thus have the same task id.</p> <p>In simple jobs, task id is always set to <code>0</code>.</p> <h2 id=submitting-jobs>Submitting jobs<a class=headerlink href=#submitting-jobs title="Permanent link">#</a></h2> <p>To submit a simple job that will execute some executable with the provided arguments, use the <code>hq submit</code> command:</p> <div class=highlight><pre><span></span><code>$ hq submit &lt;program&gt; &lt;arg1&gt; &lt;arg2&gt; ...
</code></pre></div> <p>When you submit a job, the server will assign it a unique job id and print it. You can use this ID in following commands to refer to the submitted job.</p> <p>After the job is submitted, HyperQueue will distribute it to a connected worker that will then execute the provided command.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>The provided command will be executed on a <a href=../../deployment/worker/ >worker</a> that might be running on a different machine. You should thus make sure that the binary will be available there and that you provide an <strong>absolute path</strong> to it.</p> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>When your command contains its own command line flags, you must put the command and its flags after <code>--</code>:</p> <div class=highlight><pre><span></span><code>$ hq submit -- /bin/bash -c <span class=s1>&#39;echo $PPID&#39;</span>
</code></pre></div> </div> <p>There are many parameters that you can set for the executed program, they are listed below.</p> <h3 id=name>Name<a class=headerlink href=#name title="Permanent link">#</a></h3> <p>Each job has an assigned name. It has only an informative character for the user. By default, the name is derived from the job's program name. You can also set the job name explicitly with the <code>--name</code> option:</p> <div class=highlight><pre><span></span><code>$ hq submit --name<span class=o>=</span>&lt;NAME&gt; ...
</code></pre></div> <h3 id=working-directory>Working directory<a class=headerlink href=#working-directory title="Permanent link">#</a></h3> <p>By default, the working directory of the job will be set to the directory from which the job was submitted. You can change this using the <code>--cwd</code> option:</p> <div class=highlight><pre><span></span><code>$ hq submit --cwd<span class=o>=</span>&lt;path&gt; ...
</code></pre></div> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>Make sure that the provided path exists on all worker nodes.</p> </div> <div class="admonition hint"> <p class=admonition-title>Hint</p> <p>You can use <a href=#placeholders>placeholders</a> in the working directory path.</p> </div> <h3 id=output>Output<a class=headerlink href=#output title="Permanent link">#</a></h3> <p>By default, each job will produce two files containing the standard output and standard error output, respectively. The default paths of these files are</p> <ul> <li><code>%{SUBMIT_DIR}/job-%{JOB_ID}/%{TASK_ID}.stdout</code> for <code>stdout</code></li> <li><code>%{SUBMIT_DIR}/job-%{JOB_ID}/%{TASK_ID}.stderr</code> for <code>stderr</code></li> </ul> <p><code>%{JOB_ID}</code> and <code>%{TASK_ID}</code> are so-called placeholders, you can read about them <a href=#placeholders>below</a>.</p> <p>You can change these paths with the <code>--stdout</code> and <code>--stderr</code> options. You can also avoid creating <code>stdout</code>/<code>stderr</code> files completely by setting the value to <code>none</code>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=1:2><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>Change output paths</label><label for=__tabbed_1_2>Disable <code>stdout</code></label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>$ hq submit --stdout<span class=o>=</span>out.txt --stderr<span class=o>=</span>err.txt ...
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>$ hq submit --stdout<span class=o>=</span>none ...
</code></pre></div> </div> </div> </div> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>Make sure that the provided path(s) exist on all worker nodes. Also note that if you provide a relative path, it will be resolved relative to the directory from where you submit the job, not relative to the <a href=#working-directory>working directory</a> of the job. If you want to change that, use the <code>%{CWD}</code> <a href=#placeholders>placeholder</a>.</p> </div> <h3 id=environment-variables>Environment variables<a class=headerlink href=#environment-variables title="Permanent link">#</a></h3> <p>You can set environment variables which will be passed to the provided command when the job is executed using the <code>--env &lt;KEY&gt;=&lt;VAL&gt;</code> option. Multiple environment variables can be passed if you repeat the option.</p> <div class=highlight><pre><span></span><code>$ hq submit --env <span class=nv>KEY1</span><span class=o>=</span>VAL1 --env <span class=nv>KEY2</span><span class=o>=</span>VAL2 ...
</code></pre></div> <p>Each executed task will also automatically receive the following environment variables:</p> <table> <thead> <tr> <th>Variable name</th> <th>Explanation</th> </tr> </thead> <tbody> <tr> <td><code>HQ_JOB_ID</code></td> <td>Job id</td> </tr> <tr> <td><code>HQ_TASK_ID</code></td> <td>Task id</td> </tr> <tr> <td><code>HQ_INSTANCE_ID</code></td> <td><a href=../failure/#task-restart>Instance id</a></td> </tr> </tbody> </table> <h3 id=time-management>Time management<a class=headerlink href=#time-management title="Permanent link">#</a></h3> <p>You can specify two time-related parameters when submitting a job. They will be applied to each task of the submitted job.</p> <ul> <li> <p><strong>Time Limit</strong> is the maximal running time of a task. If it is reached, the task will be terminated, and it will transition into the <code>Failed</code> <a href=#task-state>state</a>. This setting has no impact on scheduling.</p> <p>This can serve as a sanity check to make sure that some task will not run indefinitely. You can set it with the <code>--time-limit</code> option<sup id=fnref2:2><a class=footnote-ref href=#fn:2>1</a></sup>:</p> <div class=highlight><pre><span></span><code>$ hq submit --time-limit<span class=o>=</span>&lt;duration&gt; ...
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Time limit is counted separately for each task. If you set a time limit of <code>3 minutes</code> and create two tasks, where each will run for two minutes, the time limit will not be hit.</p> </div> </li> <li> <p><strong>Time Request</strong> is the minimal remaining <a href=../../deployment/worker/#time-limit>lifetime</a> that a worker must have in order to start executing the task. Workers that do not have enough remaining lifetime will not be considered for running this task.</p> <p>Time requests are only used during scheduling, where the server decides which worker should execute which task. Once a task is scheduled and starts executing on a worker, the time request value will not have any effect.</p> <p>You can set the time request using the <code>--time-request</code> option<sup id=fnref:2><a class=footnote-ref href=#fn:2>1</a></sup>:</p> <div class=highlight><pre><span></span><code>$ hq submit --time-request<span class=o>=</span>&lt;duration&gt; ...
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Workers with an unknown remaining lifetime will be able to execute any task, disregarding its time request.</p> </div> </li> </ul> <p>Here is an example situation where time limit and time request can be used:</p> <p>Let's assume that we have a collection of tasks where the vast majority of tasks usually finish within <code>10</code> minutes, but some of them run for (at most) <code>30</code> minutes. We do not know in advance which tasks will be "slow". In this case we may want to set the <em>time limit</em> to <code>35</code> minutes to protect us against an error (deadlock, endless loop, etc.).</p> <p>However, since we know that each task will usually take <em>at least</em> <code>10</code> minutes to execute, we don't want to start executing it on a worker if we know that the worker will definitely terminate in less than <code>10</code> minutes. It would only cause unnecessary lost computational resources. Therefore, we can set the <em>time request</em> to <code>10</code> minutes.</p> <h3 id=priority>Priority<a class=headerlink href=#priority title="Permanent link">#</a></h3> <p>You can modify the order in which tasks are executed using <strong>Priority</strong>. Priority can be any 32b <em>signed</em> integer. A lower number signifies lower priority, e.g. when task <code>A</code> with priority <code>5</code> and task <code>B</code> with priority <code>3</code> are scheduled to the same worker and only one of them may be executed, then <code>A</code> will be executed first.</p> <p>You can set the priority using the <code>--priority</code> option:</p> <div class=highlight><pre><span></span><code><span class=nv>$hq</span> submit --priority<span class=o>=</span>&lt;PRIORITY&gt;
</code></pre></div> <p>If no priority is specified, then each task will have priority <code>0</code>.</p> <h3 id=placeholders>Placeholders<a class=headerlink href=#placeholders title="Permanent link">#</a></h3> <p>You can use special variables when setting certain job parameters (<a href=#working-directory>working directory</a>, <a href=#output>output</a> paths, <a href=../streaming/#redirecting-output-to-the-log>log</a> path). These variables, called <strong>Placeholders</strong>, will be replaced by job or task-specific information before the job is executed.</p> <p>Placeholders are enclosed in curly braces (<code>{}</code>) and prefixed with a percent (<code>%</code>) sign.</p> <p>You can use the following placeholders:</p> <table> <thead> <tr> <th>Placeholder</th> <th>Will be replaced by</th> <th>Available for</th> </tr> </thead> <tbody> <tr> <td><code>%{JOB_ID}</code></td> <td>Job ID</td> <td><code>stdout</code>, <code>stderr</code>, <code>cwd</code>, <code>log</code></td> </tr> <tr> <td><code>%{TASK_ID}</code></td> <td>Task ID</td> <td><code>stdout</code>, <code>stderr</code>, <code>cwd</code></td> </tr> <tr> <td><code>%{INSTANCE_ID}</code></td> <td><a href=../failure/#task-restart>Instance ID</a></td> <td><code>stdout</code>, <code>stderr</code>, <code>cwd</code></td> </tr> <tr> <td><code>%{SUBMIT_DIR}</code></td> <td>Directory from which the job was submitted.</td> <td><code>stdout</code>, <code>stderr</code>, <code>cwd</code>, <code>log</code></td> </tr> <tr> <td><code>%{CWD}</code></td> <td>Working directory of the task.</td> <td><code>stdout</code>, <code>stderr</code></td> </tr> </tbody> </table> <h2 id=state>State<a class=headerlink href=#state title="Permanent link">#</a></h2> <p>At any moment in time, each task and job has a specific <em>state</em> that represents what is currently happening to it. You can query the state of a job with the following command<sup id=fnref:1><a class=footnote-ref href=#fn:1>2</a></sup>:</p> <div class=highlight><pre><span></span><code>$ hq job info &lt;job-id&gt;
</code></pre></div> <h3 id=task-state>Task state<a class=headerlink href=#task-state title="Permanent link">#</a></h3> <p>Each task starts in the <code>Waiting</code> state and can end up in one of the terminal states: <code>Finished</code>, <code>Failed</code> or <code>Canceled</code>.</p> <div class=highlight><pre><span></span><code>Waiting-----------------\
   | ^                  |
   | |                  |
   v |                  |
Running-----------------|
   | |                  |
   | \--------\         |
   |          |         |
   v          v         v
Finished    Failed   Canceled
</code></pre></div> <ul> <li><strong>Waiting</strong> The task was submitted and is now waiting to be executed.</li> <li><strong>Running</strong> The task is running on a worker. It may become <code>Waiting</code> again when the worker where the task is running crashes.</li> <li><strong>Finished</strong> The task has successfully finished.</li> <li><strong>Failed</strong> The task has failed.</li> <li><strong>Canceled</strong> The task has been <a href=#cancelling-jobs>canceled</a>.</li> </ul> <p>If a task is in the <code>Finished</code>, <code>Failed</code> or <code>Canceled</code> state, it is <code>completed</code>.</p> <h3 id=job-state>Job state<a class=headerlink href=#job-state title="Permanent link">#</a></h3> <p>The state of a job is derived from the states of its individual tasks. The state is determined by the first rule that matches from the following list of rules:</p> <ol> <li>If at least one task is <code>Running</code>, then job state is <code>Running</code>.</li> <li>If at least one task has not been <code>completed</code> yet, then job state is <code>Waiting</code>.</li> <li>If at least one task is <code>Canceled</code>, then job state is <code>Canceled</code>.</li> <li>If at least one task is <code>Failed</code>, then job state is <code>Failed</code>.</li> <li>All tasks have to be <code>Finished</code>, therefore the job state will also be <code>Finished</code>.</li> </ol> <h2 id=cancelling-jobs>Cancelling jobs<a class=headerlink href=#cancelling-jobs title="Permanent link">#</a></h2> <p>You can prematurely terminate a submitted job that haven't been completed yet by <em>cancelling</em> it using the <code>hq job cancel</code> command<sup id=fnref2:1><a class=footnote-ref href=#fn:1>2</a></sup>:</p> <div class=highlight><pre><span></span><code>$ hq job cancel &lt;job-selector&gt;
</code></pre></div> <p>Cancelling a job will cancel all of its tasks that are not yet completed.</p> <h2 id=waiting-for-jobs>Waiting for jobs<a class=headerlink href=#waiting-for-jobs title="Permanent link">#</a></h2> <p>There are three ways of waiting until a job completes:</p> <ul> <li> <p><strong>Submit and wait</strong> You can use the <code>--wait</code> flag when submitting a job. This will cause the submission command to wait until the job becomes complete:</p> <div class=highlight><pre><span></span><code>$ hq submit --wait ...
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>This method can be used for benchmarking the job duration.</p> </div> </li> <li> <p><strong>Wait command</strong> There is a separate <code>hq job wait</code> command that can be used to wait until an existing job completes<sup id=fnref4:1><a class=footnote-ref href=#fn:1>2</a></sup>:</p> <div class=highlight><pre><span></span><code>$ hq job <span class=nb>wait</span> &lt;job-selector&gt;
</code></pre></div> </li> <li> <p><strong>Interactive wait</strong> If you want to interactively observe the status of a job (which is useful especially if it has <a href=../arrays/ >multiple tasks</a>), you can use the <code>hq job progress</code> command:</p> <div class="tabbed-set tabbed-alternate" data-tabs=2:2><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><input id=__tabbed_2_2 name=__tabbed_2 type=radio><div class=tabbed-labels><label for=__tabbed_2_1>Submit and observe</label><label for=__tabbed_2_2>Observe an existing job<sup id=fnref3:1><a class=footnote-ref href=#fn:1>2</a></sup></label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>$ hq submit --progress ...
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>$ hq job progress &lt;selector&gt;
</code></pre></div> </div> </div> </div> </li> </ul> <h2 id=attaching-stdio>Attaching stdio<a class=headerlink href=#attaching-stdio title="Permanent link">#</a></h2> <p>When <code>--stdin</code> flag is used, then HQ capture stdio and attach it to each task of a job. This can be used to submitting scripts without creating file. The following command will capture stdin and executes it in Bash </p> <pre><code>```bash
$ hq submit --stdin bash
```
</code></pre> <p>If you want to parse #HQ directives from stdin, you can use <code>--directives=stdin</code>.</p> <h2 id=useful-job-commands>Useful job commands<a class=headerlink href=#useful-job-commands title="Permanent link">#</a></h2> <p>Here is a list of useful job commands:</p> <h3 id=display-job-table>Display job table<a class=headerlink href=#display-job-table title="Permanent link">#</a></h3> <div class="tabbed-set tabbed-alternate" data-tabs=3:3><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><input id=__tabbed_3_2 name=__tabbed_3 type=radio><input id=__tabbed_3_3 name=__tabbed_3 type=radio><div class=tabbed-labels><label for=__tabbed_3_1>List queued and running jobs</label><label for=__tabbed_3_2>List all jobs</label><label for=__tabbed_3_3>List jobs by status</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>$ hq job list
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>$ hq job list --all
</code></pre></div> </div> <div class=tabbed-block> <p>You can display only jobs having the selected <a href=#job-state>states</a> by using the <code>--filter</code> flag:</p> <div class=highlight><pre><span></span><code>$ hq job list --filter running,waiting
</code></pre></div> <p>Valid filter values are:</p> <ul> <li><code>waiting</code></li> <li><code>running</code></li> <li><code>finished</code></li> <li><code>failed</code></li> <li><code>canceled</code></li> </ul> </div> </div> </div> <h3 id=display-information-about-a-specific-job>Display information about a specific job<a class=headerlink href=#display-information-about-a-specific-job title="Permanent link">#</a></h3> <div class=highlight><pre><span></span><code>$ hq job info &lt;job-selector&gt;
</code></pre></div> <h3 id=display-information-about-individual-tasks-of-a-specific-job>Display information about individual tasks of a specific job<a class=headerlink href=#display-information-about-individual-tasks-of-a-specific-job title="Permanent link">#</a></h3> <div class=highlight><pre><span></span><code>$ hq job tasks &lt;job-id&gt;
</code></pre></div> <h3 id=display-job-stdoutstderr>Display job <code>stdout</code>/<code>stderr</code><a class=headerlink href=#display-job-stdoutstderr title="Permanent link">#</a></h3> <div class=highlight><pre><span></span><code>$ hq job cat &lt;job-id&gt; <span class=o>[</span>--tasks &lt;task-selector&gt;<span class=o>]</span> &lt;stdout/stderr&gt;
</code></pre></div> <div class=footnote> <hr> <ol> <li id=fn:2> <p>You can use various <a href=../../cli/shortcuts/#duration>shortcuts</a> for the duration value.&#160;<a class=footnote-backref href=#fnref:2 title="Jump back to footnote 1 in the text">&#8617;</a><a class=footnote-backref href=#fnref2:2 title="Jump back to footnote 1 in the text">&#8617;</a></p> </li> <li id=fn:1> <p>You can use various <a href=../../cli/shortcuts/#id-selector>shortcuts</a> to select multiple jobs at once.&#160;<a class=footnote-backref href=#fnref:1 title="Jump back to footnote 2 in the text">&#8617;</a><a class=footnote-backref href=#fnref2:1 title="Jump back to footnote 2 in the text">&#8617;</a><a class=footnote-backref href=#fnref3:1 title="Jump back to footnote 2 in the text">&#8617;</a><a class=footnote-backref href=#fnref4:1 title="Jump back to footnote 2 in the text">&#8617;</a></p> </li> </ol> </div> <hr> <div class=md-source-date> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">January 27, 2022</span> <br>Created: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">November 2, 2021</span> </small> </div> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top data-md-state=hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../../deployment/allocation/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Automatic Allocation" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Automatic Allocation </div> </div> </a> <a href=../arrays/ class="md-footer__link md-footer__link--next" aria-label="Next: Task Arrays" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Task Arrays </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["header.autohide", "navigation.instant", "navigation.top"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.e99e714c.min.js", "version": {"provider": "mike", "default": "stable"}}</script> <script src=../../assets/javascripts/bundle.bc35569b.min.js></script> </body> </html>